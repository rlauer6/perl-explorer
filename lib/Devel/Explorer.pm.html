<!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><a name="line1"><span class="linenum">001:</span></a> <span class="keyword">package</span><span class="normal"> Devel</span><span class="symbol">::</span><span class="normal">Explorer</span><span class="symbol">;</span>
<a name="line2"><span class="linenum">002:</span></a> 
<a name="line3"><span class="linenum">003:</span></a> <span class="keyword">use</span><span class="normal"> strict</span><span class="symbol">;</span>
<a name="line4"><span class="linenum">004:</span></a> <span class="keyword">use</span><span class="normal"> warnings</span><span class="symbol">;</span>
<a name="line5"><span class="linenum">005:</span></a> 
<a name="line6"><span class="linenum">006:</span></a> <span class="normal">BEGIN </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line7"><span class="linenum">007:</span></a> <span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$ENV</span><span class="cbracket">{</span><span class="normal">HOME</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line8"><span class="linenum">008:</span></a> <span class="normal">        </span><span class="keyword">use</span><span class="normal"> lib </span><span class="string">"$ENV{HOME}/lib/perl5"</span><span class="symbol">;</span>
<a name="line9"><span class="linenum">009:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line10"><span class="linenum">010:</span></a> <span class="cbracket">}</span>
<a name="line11"><span class="linenum">011:</span></a> 
<a name="line12"><span class="linenum">012:</span></a> <span class="keyword">use</span><span class="normal"> Data</span><span class="symbol">::</span><span class="normal">Dumper</span><span class="symbol">;</span>
<a name="line13"><span class="linenum">013:</span></a> <span class="keyword">use</span><span class="normal"> Devel</span><span class="symbol">::</span><span class="normal">Explorer</span><span class="symbol">::</span><span class="normal">Utils </span><span class="keyword">qw</span><span class="symbol">(:</span><span class="normal">all</span><span class="symbol">);</span>
<a name="line14"><span class="linenum">014:</span></a> <span class="keyword">use</span><span class="normal"> English                </span><span class="keyword">qw</span><span class="symbol">(-</span><span class="normal">no_match_vars</span><span class="symbol">);</span>
<a name="line15"><span class="linenum">015:</span></a> <span class="keyword">use</span><span class="normal"> File</span><span class="symbol">::</span><span class="normal">Find</span><span class="symbol">;</span>
<a name="line16"><span class="linenum">016:</span></a> <span class="keyword">use</span><span class="normal"> Cwd</span><span class="symbol">;</span>
<a name="line17"><span class="linenum">017:</span></a> <span class="keyword">use</span><span class="normal"> HTML</span><span class="symbol">::</span><span class="normal">Tidy</span><span class="symbol">;</span>
<a name="line18"><span class="linenum">018:</span></a> <span class="keyword">use</span><span class="normal"> JSON</span><span class="symbol">;</span>
<a name="line19"><span class="linenum">019:</span></a> <span class="keyword">use</span><span class="normal"> Template</span><span class="symbol">;</span>
<a name="line20"><span class="linenum">020:</span></a> <span class="keyword">use</span><span class="normal"> List</span><span class="symbol">::</span><span class="normal">Util </span><span class="keyword">qw</span><span class="symbol">(</span><span class="normal">pairs</span><span class="symbol">);</span>
<a name="line21"><span class="linenum">021:</span></a> 
<a name="line22"><span class="linenum">022:</span></a> <span class="keyword">use</span><span class="normal"> parent </span><span class="keyword">qw</span><span class="symbol">(</span><span class="normal">Class</span><span class="symbol">::</span><span class="normal">Accessor</span><span class="symbol">::</span><span class="normal">Fast</span><span class="symbol">);</span>
<a name="line23"><span class="linenum">023:</span></a> 
<a name="line24"><span class="linenum">024:</span></a> <span class="normal">__PACKAGE__</span><span class="symbol">-&gt;</span><span class="normal">follow_best_practice</span><span class="symbol">;</span>
<a name="line25"><span class="linenum">025:</span></a> <span class="normal">__PACKAGE__</span><span class="symbol">-&gt;</span><span class="function">mk_accessors</span><span class="symbol">(</span><span class="keyword">qw</span><span class="symbol">(</span><span class="normal">tree</span><span class="normal"> </span><span class="normal">branches</span><span class="normal"> </span><span class="normal">modules</span><span class="normal"> </span><span class="normal">path</span><span class="normal"> </span><span class="normal">config_file</span><span class="normal"> </span><span class="normal">config</span><span class="normal"> </span><span class="normal">pod_status</span><span class="symbol">));</span>
<a href="lib/Devel/Explorer.pm.html#101">config -> lib/Devel/Explorer.pm:101</a>
<a href="lib/Devel/Explorer.pm.html#102">config_file -> lib/Devel/Explorer.pm:102</a>
<a href="lib/Devel/Explorer.pm.html#122">path -> lib/Devel/Explorer.pm:122</a>
<a href="lib/Devel/Explorer.pm.html#137">config -> lib/Devel/Explorer.pm:137</a>
<a href="lib/Devel/Explorer.pm.html#159">tree -> lib/Devel/Explorer.pm:159</a>
<a href="lib/Devel/Explorer.pm.html#161">branches -> lib/Devel/Explorer.pm:161</a>
<a href="lib/Devel/Explorer.pm.html#200">modules -> lib/Devel/Explorer.pm:200</a>
<a href="lib/Devel/Explorer.pm.html#202">tree -> lib/Devel/Explorer.pm:202</a>
<a href="lib/Devel/Explorer.pm.html#267">modules -> lib/Devel/Explorer.pm:267</a>
<a href="lib/Devel/Explorer.pm.html#268">pod_status -> lib/Devel/Explorer.pm:268</a>
<a href="lib/Devel/Explorer.pm.html#363">config -> lib/Devel/Explorer.pm:363</a>
<a href="lib/Devel/Explorer.pm.html#38">modules -> lib/Devel/Explorer.pm:38</a>
<a href="lib/Devel/Explorer.pm.html#384">config -> lib/Devel/Explorer.pm:384</a>
<a href="lib/Devel/Explorer.pm.html#40">config -> lib/Devel/Explorer.pm:40</a>
<a href="lib/Devel/Explorer.pm.html#42">path -> lib/Devel/Explorer.pm:42</a>
<a href="lib/Devel/Explorer.pm.html#423">config -> lib/Devel/Explorer.pm:423</a>
<a href="lib/Devel/Explorer.pm.html#78">modules -> lib/Devel/Explorer.pm:78</a>
<a href="lib/Devel/Explorer.pm.html#83">pod_status -> lib/Devel/Explorer.pm:83</a>
<a name="line26"><span class="linenum">026:</span></a> 
<a name="line27"><span class="linenum">027:</span></a> <span class="keyword">caller</span><span class="normal"> or __PACKAGE__</span><span class="symbol">-&gt;</span><span class="function">main</span><span class="symbol">();</span>
<a name="line28"><span class="linenum">028:</span></a> 
<a name="line29"><span class="linenum">029:</span></a> <span class="comment">########################################################################</span>
<a name="line30"><span class="linenum">030:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">new</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">new -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line31"><span class="linenum">031:</span></a> <span class="comment">########################################################################</span>
<a name="line32"><span class="linenum">032:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$class</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">@args</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line33"><span class="linenum">033:</span></a> 
<a name="line34"><span class="linenum">034:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$options</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">ref</span><span class="normal"> </span><span class="variable">$args</span><span class="symbol">[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">?</span><span class="normal"> </span><span class="variable">$args</span><span class="symbol">[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">:</span><span class="normal"> </span><span class="cbracket">{</span><span class="variable">@args</span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line35"><span class="linenum">035:</span></a> 
<a name="line36"><span class="linenum">036:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$self</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$class</span><span class="symbol">-&gt;</span><span class="normal">SUPER</span><span class="symbol">::</span><span class="function">new</span><span class="symbol">(</span><span class="variable">$options</span><span class="symbol">);</span>
<a href="lib/Devel/Explorer.pm.html#0">new -> lib/Devel/Explorer.pm:0</a>
<a name="line37"><span class="linenum">037:</span></a> 
<a name="line38"><span class="linenum">038:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@modules</span><span class="symbol">;</span>
<a name="line39"><span class="linenum">039:</span></a> 
<a name="line40"><span class="linenum">040:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$config</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">init_config</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">init_config -> lib/Devel/Explorer.pm:0</a>
<a name="line41"><span class="linenum">041:</span></a> 
<a name="line42"><span class="linenum">042:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$path</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_path </span><span class="string">//</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal"><a name="42">path</a></span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line43"><span class="linenum">043:</span></a> 
<a name="line44"><span class="linenum">044:</span></a> <span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">$path</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line45"><span class="linenum">045:</span></a> <span class="normal">        </span><span class="function">find</span><span class="symbol">(</span>
<a name="line46"><span class="linenum">046:</span></a> <span class="normal">            </span><span class="keyword">sub</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line47"><span class="linenum">047:</span></a> <span class="normal">                </span><span class="keyword">return</span><span class="normal"> </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">!</span><span class="string">/[.]pm$/</span><span class="normal">xsm</span><span class="symbol">;</span>
<a name="line48"><span class="linenum">048:</span></a> <span class="normal">                </span><span class="keyword">push</span><span class="normal"> </span><span class="variable">@modules</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$File</span><span class="symbol">::</span><span class="normal">Find</span><span class="symbol">::</span><span class="normal">name</span><span class="symbol">;</span>
<a name="line49"><span class="linenum">049:</span></a> <span class="normal">            </span><span class="cbracket">}</span><span class="symbol">,</span>
<a name="line50"><span class="linenum">050:</span></a> <span class="normal">            </span><span class="variable">$path</span>
<a name="line51"><span class="linenum">051:</span></a> <span class="normal">        </span><span class="symbol">);</span>
<a name="line52"><span class="linenum">052:</span></a> 
<a name="line53"><span class="linenum">053:</span></a> <span class="normal">        </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">%paths</span><span class="symbol">;</span>
<a name="line54"><span class="linenum">054:</span></a> 
<a name="line55"><span class="linenum">055:</span></a> <span class="normal">        </span><span class="keyword">foreach</span><span class="normal"> </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$module</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">@modules</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line56"><span class="linenum">056:</span></a> <span class="normal">            </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$module_path</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$module</span><span class="symbol">;</span>
<a name="line57"><span class="linenum">057:</span></a> 
<a name="line58"><span class="linenum">058:</span></a> <span class="normal">            </span><span class="variable">$module</span><span class="normal"> </span><span class="symbol">=~</span><span class="normal"> </span><span class="keyword">s</span><span class="regexp">/$path\///</span><span class="keyword">xsm</span><span class="symbol">;</span>
<a name="line59"><span class="linenum">059:</span></a> <span class="normal">            </span><span class="variable">$module</span><span class="normal"> </span><span class="symbol">=~</span><span class="normal"> </span><span class="keyword">s</span><span class="regexp">/\//$DOUBLE_COLON/</span><span class="keyword">xsmg</span><span class="symbol">;</span>
<a name="line60"><span class="linenum">060:</span></a> <span class="normal">            </span><span class="variable">$module</span><span class="normal"> </span><span class="symbol">=~</span><span class="normal"> </span><span class="keyword">s</span><span class="regexp">/[.]pm$//</span><span class="keyword">xsm</span><span class="symbol">;</span>
<a name="line61"><span class="linenum">061:</span></a> <span class="normal">            </span><span class="variable">$paths</span><span class="cbracket">{</span><span class="variable">$module_path</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$module</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line62"><span class="linenum">062:</span></a> <span class="normal">        </span><span class="cbracket">}</span>
<a name="line63"><span class="linenum">063:</span></a> 
<a name="line64"><span class="linenum">064:</span></a> <span class="normal">        </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">set_modules</span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">\</span><span class="variable">%paths</span><span class="normal"> </span><span class="symbol">);</span>
<a name="line65"><span class="linenum">065:</span></a> 
<a name="line66"><span class="linenum">066:</span></a> <span class="normal">        </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">create_tree</span><span class="symbol">();</span>
<a href="lib/Devel/Explorer.pm.html#0">create_tree -> lib/Devel/Explorer.pm:0</a>
<a name="line67"><span class="linenum">067:</span></a> <span class="normal">        </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">update_pod_status</span><span class="symbol">();</span>
<a href="lib/Devel/Explorer.pm.html#0">update_pod_status -> lib/Devel/Explorer.pm:0</a>
<a name="line68"><span class="linenum">068:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line69"><span class="linenum">069:</span></a> 
<a name="line70"><span class="linenum">070:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">;</span>
<a name="line71"><span class="linenum">071:</span></a> <span class="cbracket">}</span>
<a name="line72"><span class="linenum">072:</span></a> 
<a name="line73"><span class="linenum">073:</span></a> <span class="comment">########################################################################</span>
<a name="line74"><span class="linenum">074:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">update_pod_status</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">update_pod_status -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line75"><span class="linenum">075:</span></a> <span class="comment">########################################################################</span>
<a name="line76"><span class="linenum">076:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">$self</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line77"><span class="linenum">077:</span></a> 
<a name="line78"><span class="linenum">078:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$modules</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_modules</span><span class="symbol">;</span>
<a name="line79"><span class="linenum">079:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@paths</span><span class="normal">   </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">keys</span><span class="normal"> </span><span class="symbol">%</span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_modules </span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line80"><span class="linenum">080:</span></a> 
<a name="line81"><span class="linenum">081:</span></a> <span class="normal">    </span><span class="comment"># print {*STDERR} Dumper( [ modules =&gt; \@paths ] );</span>
<a name="line82"><span class="linenum">082:</span></a> 
<a name="line83"><span class="linenum">083:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">%pod_status</span><span class="symbol">;</span>
<a name="line84"><span class="linenum">084:</span></a> 
<a name="line85"><span class="linenum">085:</span></a> <span class="normal">    </span><span class="keyword">foreach</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">@paths</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line86"><span class="linenum">086:</span></a> <span class="normal">        </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$text</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">eval</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="keyword">return</span><span class="normal"> </span><span class="function">slurp_file</span><span class="symbol">(</span><span class="variable">$_</span><span class="symbol">);</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line87"><span class="linenum">087:</span></a> 
<a name="line88"><span class="linenum">088:</span></a> <span class="normal">        </span><span class="keyword">next</span><span class="normal"> </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">!</span><span class="variable">$text</span><span class="normal"> </span><span class="symbol">||</span><span class="normal"> </span><span class="variable">$text</span><span class="normal"> </span><span class="symbol">!~</span><span class="normal"> </span><span class="string">/^[=]pod\s*$/</span><span class="normal">xsm</span><span class="symbol">;</span>
<a name="line89"><span class="linenum">089:</span></a> 
<a name="line90"><span class="linenum">090:</span></a> <span class="normal">        </span><span class="variable">$pod_status</span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$modules</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$_</span><span class="cbracket">}</span><span class="normal"> </span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">length</span><span class="normal"> </span><span class="variable">$text</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line91"><span class="linenum">091:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line92"><span class="linenum">092:</span></a> 
<a name="line93"><span class="linenum">093:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">set_pod_status</span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">\</span><span class="variable">%pod_status</span><span class="normal"> </span><span class="symbol">);</span>
<a name="line94"><span class="linenum">094:</span></a> <span class="cbracket">}</span>
<a name="line95"><span class="linenum">095:</span></a> 
<a name="line96"><span class="linenum">096:</span></a> <span class="comment">########################################################################</span>
<a name="line97"><span class="linenum">097:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">init_config</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">init_config -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line98"><span class="linenum">098:</span></a> <span class="comment">########################################################################</span>
<a name="line99"><span class="linenum">099:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">$self</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line100"><span class="linenum">100:</span></a> 
<a name="line101"><span class="linenum">101:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$config</span><span class="normal">      </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_config </span><span class="string">//</span><span class="normal"> </span><span class="cbracket">{}</span><span class="symbol">;</span>
<a name="line102"><span class="linenum">102:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$config_file</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_config_file</span><span class="symbol">;</span>
<a name="line103"><span class="linenum">103:</span></a> 
<a name="line104"><span class="linenum">104:</span></a> <span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$config_file</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">-</span><span class="normal">e </span><span class="variable">$config_file</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line105"><span class="linenum">105:</span></a> <span class="normal">        </span><span class="variable">$config</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">slurp_json</span><span class="symbol">(</span><span class="variable">$config_file</span><span class="symbol">);</span>
<a name="line106"><span class="linenum">106:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line107"><span class="linenum">107:</span></a> 
<a name="line108"><span class="linenum">108:</span></a> <span class="normal">    </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">set_config</span><span class="symbol">(</span><span class="variable">$config</span><span class="symbol">);</span>
<a name="line109"><span class="linenum">109:</span></a> 
<a name="line110"><span class="linenum">110:</span></a> <span class="normal">    </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">resolve_dir</span><span class="symbol">(</span><span class="keyword">qw</span><span class="symbol">(</span><span class="normal">path</span><span class="normal"> critic</span><span class="symbol">.</span><span class="normal">profile templates</span><span class="symbol">.</span><span class="keyword">index</span><span class="normal"> tidy</span><span class="symbol">.</span><span class="normal">profile</span><span class="symbol">));</span>
<a href="lib/Devel/Explorer.pm.html#0">resolve_dir -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#122">path -> lib/Devel/Explorer.pm:122</a>
<a href="lib/Devel/Explorer.pm.html#42">path -> lib/Devel/Explorer.pm:42</a>
<a name="line111"><span class="linenum">111:</span></a> 
<a name="line112"><span class="linenum">112:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">;</span>
<a name="line113"><span class="linenum">113:</span></a> <span class="cbracket">}</span>
<a name="line114"><span class="linenum">114:</span></a> 
<a name="line115"><span class="linenum">115:</span></a> <span class="comment">########################################################################</span>
<a name="line116"><span class="linenum">116:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">_get_value_from_dotted_path</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">_get_value_from_dotted_path -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line117"><span class="linenum">117:</span></a> <span class="comment">########################################################################</span>
<a name="line118"><span class="linenum">118:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$dotted_path</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line119"><span class="linenum">119:</span></a> 
<a name="line120"><span class="linenum">120:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@parts</span><span class="symbol">;</span>
<a name="line121"><span class="linenum">121:</span></a> 
<a name="line122"><span class="linenum">122:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@path</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">split</span><span class="normal"> </span><span class="string">/[.]/</span><span class="normal">xsm</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$dotted_path</span><span class="symbol">;</span>
<a name="line123"><span class="linenum">123:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$var</span><span class="normal">  </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">pop</span><span class="normal"> </span><span class="variable">@path</span><span class="symbol">;</span>
<a name="line124"><span class="linenum">124:</span></a> 
<a name="line125"><span class="linenum">125:</span></a> <span class="normal">    </span><span class="keyword">foreach</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">@path</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line126"><span class="linenum">126:</span></a> <span class="normal">        </span><span class="variable">$config</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$_</span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line127"><span class="linenum">127:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line128"><span class="linenum">128:</span></a> 
<a name="line129"><span class="linenum">129:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$var</span><span class="normal"> </span><span class="symbol">);</span>
<a name="line130"><span class="linenum">130:</span></a> <span class="cbracket">}</span>
<a name="line131"><span class="linenum">131:</span></a> 
<a name="line132"><span class="linenum">132:</span></a> <span class="comment">########################################################################</span>
<a name="line133"><span class="linenum">133:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">resolve_dir</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">resolve_dir -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line134"><span class="linenum">134:</span></a> <span class="comment">########################################################################</span>
<a name="line135"><span class="linenum">135:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">@paths</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line136"><span class="linenum">136:</span></a> 
<a name="line137"><span class="linenum">137:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$config</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_config</span><span class="symbol">;</span>
<a name="line138"><span class="linenum">138:</span></a> 
<a name="line139"><span class="linenum">139:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$home</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal"><a name="139">home</a></span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line140"><span class="linenum">140:</span></a> 
<a name="line141"><span class="linenum">141:</span></a> <span class="normal">    </span><span class="keyword">return</span>
<a name="line142"><span class="linenum">142:</span></a> <span class="normal">      </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">!</span><span class="variable">$home</span><span class="symbol">;</span>
<a name="line143"><span class="linenum">143:</span></a> 
<a name="line144"><span class="linenum">144:</span></a> <span class="normal">    </span><span class="keyword">foreach</span><span class="normal"> </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$p</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">@paths</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line145"><span class="linenum">145:</span></a> <span class="normal">        </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$config_path</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$var</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">_get_value_from_dotted_path</span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$p</span><span class="normal"> </span><span class="symbol">);</span>
<a href="lib/Devel/Explorer.pm.html#0">_get_value_from_dotted_path -> lib/Devel/Explorer.pm:0</a>
<a name="line146"><span class="linenum">146:</span></a> 
<a name="line147"><span class="linenum">147:</span></a> <span class="normal">        </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$val</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$config_path</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$var</span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line148"><span class="linenum">148:</span></a> <span class="normal">        </span><span class="variable">$val</span><span class="normal"> </span><span class="symbol">=~</span><span class="normal"> </span><span class="keyword">s</span><span class="regexp">/~/$home/</span><span class="keyword">xsm</span><span class="symbol">;</span>
<a name="line149"><span class="linenum">149:</span></a> 
<a name="line150"><span class="linenum">150:</span></a> <span class="normal">        </span><span class="variable">$config_path</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$var</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$val</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line151"><span class="linenum">151:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line152"><span class="linenum">152:</span></a> <span class="cbracket">}</span>
<a name="line153"><span class="linenum">153:</span></a> 
<a name="line154"><span class="linenum">154:</span></a> <span class="comment">########################################################################</span>
<a name="line155"><span class="linenum">155:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">expand_branch</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">expand_branch -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line156"><span class="linenum">156:</span></a> <span class="comment">########################################################################</span>
<a name="line157"><span class="linenum">157:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$branch</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line158"><span class="linenum">158:</span></a> 
<a name="line159"><span class="linenum">159:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$tree</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_tree</span><span class="symbol">;</span>
<a name="line160"><span class="linenum">160:</span></a> 
<a name="line161"><span class="linenum">161:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$branches</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_branches</span><span class="symbol">;</span>
<a name="line162"><span class="linenum">162:</span></a> 
<a name="line163"><span class="linenum">163:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@parts</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">split</span><span class="normal"> </span><span class="string">/$DOUBLE_COLON/</span><span class="normal">xsm</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$branch</span><span class="symbol">;</span>
<a name="line164"><span class="linenum">164:</span></a> 
<a name="line165"><span class="linenum">165:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@leaves</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> @</span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$branches</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$branch</span><span class="cbracket">}</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line166"><span class="linenum">166:</span></a> 
<a name="line167"><span class="linenum">167:</span></a> <span class="normal">    </span><span class="keyword">foreach</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">@parts</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line168"><span class="linenum">168:</span></a> <span class="normal">        </span><span class="variable">$tree</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$tree</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$_</span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line169"><span class="linenum">169:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line170"><span class="linenum">170:</span></a> 
<a name="line171"><span class="linenum">171:</span></a> <span class="normal">    </span><span class="variable">$branches</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">[</span><span class="normal"> </span><span class="keyword">map</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$branch</span><span class="normal"> </span><span class="symbol">.</span><span class="normal"> </span><span class="variable">$DOUBLE_COLON</span><span class="normal"> </span><span class="symbol">.</span><span class="normal"> </span><span class="variable">$_</span><span class="normal"> </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">keys</span><span class="normal"> </span><span class="symbol">%</span><span class="cbracket">{</span><span class="variable">$tree</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">];</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line172"><span class="linenum">172:</span></a> 
<a name="line173"><span class="linenum">173:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="normal">leaves</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="symbol">\</span><span class="variable">@leaves</span><span class="symbol">,</span><span class="normal"> </span><span class="normal">branches</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$branches</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#161">branches -> lib/Devel/Explorer.pm:161</a>
<a href="lib/Devel/Explorer.pm.html#165">leaves -> lib/Devel/Explorer.pm:165</a>
<a href="lib/Devel/Explorer.pm.html#218">leaves -> lib/Devel/Explorer.pm:218</a>
<a name="line174"><span class="linenum">174:</span></a> <span class="cbracket">}</span>
<a name="line175"><span class="linenum">175:</span></a> 
<a name="line176"><span class="linenum">176:</span></a> <span class="comment">########################################################################</span>
<a name="line177"><span class="linenum">177:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">traverse_tree</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">traverse_tree -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line178"><span class="linenum">178:</span></a> <span class="comment">########################################################################</span>
<a name="line179"><span class="linenum">179:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$branch</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$tree</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$leaves</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line180"><span class="linenum">180:</span></a> 
<a name="line181"><span class="linenum">181:</span></a> <span class="normal">    </span><span class="variable">$leaves</span><span class="normal"> </span><span class="string">//</span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">[];</span>
<a name="line182"><span class="linenum">182:</span></a> 
<a name="line183"><span class="linenum">183:</span></a> <span class="normal">    </span><span class="keyword">foreach</span><span class="normal"> </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$twig</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="keyword">keys</span><span class="normal"> </span><span class="symbol">%</span><span class="cbracket">{</span><span class="variable">$branch</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line184"><span class="linenum">184:</span></a> <span class="normal">        </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$next_branch</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">join</span><span class="normal"> </span><span class="variable">$DOUBLE_COLON</span><span class="symbol">,</span><span class="normal"> @</span><span class="cbracket">{</span><span class="variable">$tree</span><span class="cbracket">}</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$twig</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line185"><span class="linenum">185:</span></a> <span class="normal">        </span><span class="keyword">push</span><span class="normal"> @</span><span class="cbracket">{</span><span class="variable">$leaves</span><span class="cbracket">}</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$next_branch</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line186"><span class="linenum">186:</span></a> 
<a name="line187"><span class="linenum">187:</span></a> <span class="normal">        </span><span class="keyword">next</span><span class="normal"> </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">!</span><span class="keyword">ref</span><span class="normal"> </span><span class="variable">$branch</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$twig</span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line188"><span class="linenum">188:</span></a> 
<a name="line189"><span class="linenum">189:</span></a> <span class="normal">        </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">traverse_tree</span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$branch</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$twig</span><span class="cbracket">}</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">[</span><span class="normal"> @</span><span class="cbracket">{</span><span class="variable">$tree</span><span class="cbracket">}</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$twig</span><span class="normal"> </span><span class="symbol">],</span><span class="normal"> </span><span class="variable">$leaves</span><span class="normal"> </span><span class="symbol">);</span>
<a href="lib/Devel/Explorer.pm.html#0">traverse_tree -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line190"><span class="linenum">190:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line191"><span class="linenum">191:</span></a> 
<a name="line192"><span class="linenum">192:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> @</span><span class="cbracket">{</span><span class="variable">$leaves</span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line193"><span class="linenum">193:</span></a> <span class="cbracket">}</span>
<a name="line194"><span class="linenum">194:</span></a> 
<a name="line195"><span class="linenum">195:</span></a> <span class="comment">########################################################################</span>
<a name="line196"><span class="linenum">196:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">create_tree</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">create_tree -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line197"><span class="linenum">197:</span></a> <span class="comment">########################################################################</span>
<a name="line198"><span class="linenum">198:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">$self</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line199"><span class="linenum">199:</span></a> 
<a name="line200"><span class="linenum">200:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@modules</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">values</span><span class="normal"> </span><span class="symbol">%</span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_modules </span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line201"><span class="linenum">201:</span></a> 
<a name="line202"><span class="linenum">202:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$tree</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{}</span><span class="symbol">;</span>
<a name="line203"><span class="linenum">203:</span></a> 
<a name="line204"><span class="linenum">204:</span></a> <span class="normal">    </span><span class="keyword">foreach</span><span class="normal"> </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$module</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">@modules</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line205"><span class="linenum">205:</span></a> 
<a name="line206"><span class="linenum">206:</span></a> <span class="normal">        </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@parts</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">split</span><span class="normal"> </span><span class="string">/$DOUBLE_COLON/</span><span class="normal">xsm</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$module</span><span class="symbol">;</span>
<a name="line207"><span class="linenum">207:</span></a> <span class="normal">        </span><span class="keyword">pop</span><span class="normal"> </span><span class="variable">@parts</span><span class="symbol">;</span>
<a name="line208"><span class="linenum">208:</span></a> 
<a name="line209"><span class="linenum">209:</span></a> <span class="normal">        </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$leaf</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$tree</span><span class="symbol">;</span>
<a name="line210"><span class="linenum">210:</span></a> 
<a name="line211"><span class="linenum">211:</span></a> <span class="normal">        </span><span class="keyword">foreach</span><span class="normal"> </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$p</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">@parts</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line212"><span class="linenum">212:</span></a> <span class="normal">            </span><span class="variable">$leaf</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$p</span><span class="cbracket">}</span><span class="normal"> </span><span class="string">//</span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line213"><span class="linenum">213:</span></a> <span class="normal">            </span><span class="variable">$leaf</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$leaf</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$p</span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line214"><span class="linenum">214:</span></a> <span class="normal">        </span><span class="cbracket">}</span>
<a name="line215"><span class="linenum">215:</span></a> 
<a name="line216"><span class="linenum">216:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line217"><span class="linenum">217:</span></a> 
<a name="line218"><span class="linenum">218:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">%leaves</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">map</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$_</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="symbol">[]</span><span class="normal"> </span><span class="cbracket">}</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">traverse_tree</span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$tree</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">[]</span><span class="normal"> </span><span class="symbol">);</span>
<a href="lib/Devel/Explorer.pm.html#0">traverse_tree -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line219"><span class="linenum">219:</span></a> 
<a name="line220"><span class="linenum">220:</span></a> <span class="normal">    </span><span class="keyword">foreach</span><span class="normal"> </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$module</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">@modules</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line221"><span class="linenum">221:</span></a> <span class="normal">        </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@parts</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">split</span><span class="normal"> </span><span class="string">/$DOUBLE_COLON/</span><span class="normal">xsm</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$module</span><span class="symbol">;</span>
<a name="line222"><span class="linenum">222:</span></a> <span class="normal">        </span><span class="keyword">pop</span><span class="normal"> </span><span class="variable">@parts</span><span class="symbol">;</span>
<a name="line223"><span class="linenum">223:</span></a> 
<a name="line224"><span class="linenum">224:</span></a> <span class="normal">        </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$leaf</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">join</span><span class="normal"> </span><span class="variable">$DOUBLE_COLON</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">@parts</span><span class="symbol">;</span>
<a name="line225"><span class="linenum">225:</span></a> 
<a name="line226"><span class="linenum">226:</span></a> <span class="normal">        </span><span class="keyword">push</span><span class="normal"> @</span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$leaves</span><span class="cbracket">{</span><span class="variable">$leaf</span><span class="cbracket">}</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$module</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line227"><span class="linenum">227:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line228"><span class="linenum">228:</span></a> 
<a name="line229"><span class="linenum">229:</span></a> <span class="normal">    </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">set_tree</span><span class="symbol">(</span><span class="variable">$tree</span><span class="symbol">);</span>
<a name="line230"><span class="linenum">230:</span></a> 
<a name="line231"><span class="linenum">231:</span></a> <span class="normal">    </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">set_branches</span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">\</span><span class="variable">%leaves</span><span class="normal"> </span><span class="symbol">);</span>
<a name="line232"><span class="linenum">232:</span></a> 
<a name="line233"><span class="linenum">233:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$tree</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span><span class="variable">%leaves</span><span class="normal"> </span><span class="symbol">);</span>
<a name="line234"><span class="linenum">234:</span></a> <span class="cbracket">}</span>
<a name="line235"><span class="linenum">235:</span></a> 
<a name="line236"><span class="linenum">236:</span></a> <span class="comment">########################################################################</span>
<a name="line237"><span class="linenum">237:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">show_branch</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">show_branch -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line238"><span class="linenum">238:</span></a> <span class="comment">########################################################################</span>
<a name="line239"><span class="linenum">239:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$branches</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$branch_name</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$parents</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$options</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line240"><span class="linenum">240:</span></a> 
<a name="line241"><span class="linenum">241:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$level</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$parents</span><span class="normal"> </span><span class="symbol">?</span><span class="normal"> scalar @</span><span class="cbracket">{</span><span class="variable">$parents</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">:</span><span class="normal"> </span><span class="number">1</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line242"><span class="linenum">242:</span></a> 
<a name="line243"><span class="linenum">243:</span></a> <span class="normal">    </span><span class="variable">$parents</span><span class="normal"> </span><span class="string">//</span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">[];</span>
<a name="line244"><span class="linenum">244:</span></a> 
<a name="line245"><span class="linenum">245:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$this_branch</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">join</span><span class="normal"> </span><span class="variable">$DOUBLE_COLON</span><span class="symbol">,</span><span class="normal"> @</span><span class="cbracket">{</span><span class="variable">$parents</span><span class="cbracket">}</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$branch_name</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line246"><span class="linenum">246:</span></a> 
<a name="line247"><span class="linenum">247:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$id</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">class</span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#249">class -> lib/Devel/Explorer.pm:249</a>
<a href="lib/Devel/Explorer.pm.html#277">class -> lib/Devel/Explorer.pm:277</a>
<a href="lib/Devel/Explorer.pm.html#298">class -> lib/Devel/Explorer.pm:298</a>
<a name="line248"><span class="linenum">248:</span></a> 
<a name="line249"><span class="linenum">249:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$class</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="string">'branch_'</span><span class="normal"> </span><span class="symbol">.</span><span class="normal"> </span><span class="variable">$id</span><span class="symbol">;</span>
<a name="line250"><span class="linenum">250:</span></a> 
<a name="line251"><span class="linenum">251:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$folders</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="string">"END_OF_HTML"</span><span class="symbol">;</span>
<a name="line252"><span class="linenum">252:</span></a> <span class="normal">     </span><span class="string">&lt;h3 class="dir" id="%s"&gt;</span>
<a name="line253"><span class="linenum">253:</span></a> <span class="normal">       </span><span class="string">&lt;span style="display:inline float:left; text-align:center"&gt;</span>
<a name="line254"><span class="linenum">254:</span></a> <span class="normal">         </span><span class="string">&lt;img class="folder" src="/icons/folder.png"      style="display:inline-block; padding-right:10px;"&gt;</span>
<a name="line255"><span class="linenum">255:</span></a> <span class="normal">         </span><span class="string">&lt;img class="folder" src="/icons/folder.open.png" style="display:none; padding-right:10px;"&gt;</span>
<a name="line256"><span class="linenum">256:</span></a> <span class="normal">         </span><span class="variable">%s</span>
<a name="line257"><span class="linenum">257:</span></a> <span class="normal">       </span><span class="string">&lt;/span&gt;</span>
<a name="line258"><span class="linenum">258:</span></a> <span class="normal">     </span><span class="string">&lt;/h3&gt;</span>
<a name="line259"><span class="linenum">259:</span></a> <span class="normal">END_OF_HTML</span>
<a name="line260"><span class="linenum">260:</span></a> 
<a name="line261"><span class="linenum">261:</span></a> <span class="normal">    </span><span class="comment">#my $h3 = q{&lt;h3 class="dir" id="%s"&gt;%s&lt;/h3&gt;};</span>
<a name="line262"><span class="linenum">262:</span></a> 
<a name="line263"><span class="linenum">263:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$h3</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">sprintf</span><span class="normal"> </span><span class="variable">$folders</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$id</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$this_branch</span><span class="symbol">;</span>
<a name="line264"><span class="linenum">264:</span></a> 
<a name="line265"><span class="linenum">265:</span></a> <span class="normal">    </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">html</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">.=</span><span class="normal"> </span><span class="variable">$h3</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#351">html -> lib/Devel/Explorer.pm:351</a>
<a name="line266"><span class="linenum">266:</span></a> 
<a name="line267"><span class="linenum">267:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@modules</span><span class="normal">    </span><span class="symbol">=</span><span class="normal"> @</span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$branches</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$this_branch</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">||</span><span class="normal"> </span><span class="symbol">[]</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line268"><span class="linenum">268:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">%pod_status</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">%</span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal"><a name="268">pod_status</a></span><span class="cbracket">}</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line269"><span class="linenum">269:</span></a> 
<a name="line270"><span class="linenum">270:</span></a> <span class="normal">    </span><span class="keyword">print</span><span class="normal"> </span><span class="cbracket">{</span><span class="symbol">*</span><span class="normal">STDERR</span><span class="cbracket">}</span><span class="normal"> </span><span class="function">Dumper</span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">[</span><span class="normal"> </span><span class="normal">pod_status</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="symbol">\</span><span class="variable">%pod_status</span><span class="normal"> </span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">);</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#268">pod_status -> lib/Devel/Explorer.pm:268</a>
<a href="lib/Devel/Explorer.pm.html#83">pod_status -> lib/Devel/Explorer.pm:83</a>
<a name="line271"><span class="linenum">271:</span></a> 
<a name="line272"><span class="linenum">272:</span></a> <span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">@modules</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line273"><span class="linenum">273:</span></a> 
<a name="line274"><span class="linenum">274:</span></a> <span class="normal">        </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@li</span><span class="symbol">;</span>
<a name="line275"><span class="linenum">275:</span></a> 
<a name="line276"><span class="linenum">276:</span></a> <span class="normal">        </span><span class="keyword">foreach</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="keyword">sort</span><span class="normal"> </span><span class="variable">@modules</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line277"><span class="linenum">277:</span></a> <span class="normal">            </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$class</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">sprintf</span><span class="normal"> </span><span class="string">'class="module%s"'</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$pod_status</span><span class="cbracket">{</span><span class="variable">$_</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">?</span><span class="normal"> </span><span class="string">' pod'</span><span class="normal"> </span><span class="symbol">:</span><span class="normal"> </span><span class="string">''</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line278"><span class="linenum">278:</span></a> <span class="normal">            </span><span class="keyword">push</span><span class="normal"> </span><span class="variable">@li</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">sprintf</span><span class="normal"> </span><span class="string">'&lt;li %s&gt;%s&lt;/li&gt;'</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$class</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$_</span><span class="symbol">;</span>
<a name="line279"><span class="linenum">279:</span></a> <span class="normal">        </span><span class="cbracket">}</span>
<a name="line280"><span class="linenum">280:</span></a> 
<a name="line281"><span class="linenum">281:</span></a> <span class="normal">        </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">html</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">.=</span><span class="normal"> </span><span class="keyword">sprintf</span><span class="normal"> </span><span class="keyword">qq</span><span class="string">{\n&lt;div class="branch $class"&gt;\n&lt;ul&gt;\n%s\n&lt;/ul&gt;\n&lt;/div&gt;\n}</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">join</span><span class="normal"> </span><span class="string">"\n"</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">@li</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#351">html -> lib/Devel/Explorer.pm:351</a>
<a name="line282"><span class="linenum">282:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line283"><span class="linenum">283:</span></a> 
<a name="line284"><span class="linenum">284:</span></a> <span class="normal">    </span><span class="comment">#    if (@leafs) {</span>
<a name="line285"><span class="linenum">285:</span></a> <span class="normal">    </span><span class="comment">#        $options-&gt;{html} .= sprintf qq{\n&lt;ul&gt;\n%s\n&lt;/ul&gt;\n}, join "\n", map {qq{&lt;li class="module"&gt;$_&lt;/li&gt;}} sort @leafs;</span>
<a name="line286"><span class="linenum">286:</span></a> <span class="normal">    </span><span class="comment">#    }</span>
<a name="line287"><span class="linenum">287:</span></a> <span class="normal">    </span><span class="comment">#</span>
<a name="line288"><span class="linenum">288:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$this_branch</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="symbol">[</span><span class="variable">@modules</span><span class="symbol">]</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line289"><span class="linenum">289:</span></a> <span class="cbracket">}</span>
<a name="line290"><span class="linenum">290:</span></a> 
<a name="line291"><span class="linenum">291:</span></a> <span class="comment">########################################################################</span>
<a name="line292"><span class="linenum">292:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">walk_tree</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">walk_tree -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line293"><span class="linenum">293:</span></a> <span class="comment">########################################################################</span>
<a name="line294"><span class="linenum">294:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$tree</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$node</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$parents</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$callback</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$options</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line295"><span class="linenum">295:</span></a> 
<a name="line296"><span class="linenum">296:</span></a> <span class="normal">    </span><span class="comment"># $options-&gt;{html} .= qq{\n&lt;div class="branch"&gt;\n};</span>
<a name="line297"><span class="linenum">297:</span></a> 
<a name="line298"><span class="linenum">298:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$class</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal"><a name="298">class</a></span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">+</span><span class="normal"> </span><span class="number">1</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line299"><span class="linenum">299:</span></a> <span class="normal">    </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">class</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$class</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#249">class -> lib/Devel/Explorer.pm:249</a>
<a href="lib/Devel/Explorer.pm.html#277">class -> lib/Devel/Explorer.pm:277</a>
<a href="lib/Devel/Explorer.pm.html#298">class -> lib/Devel/Explorer.pm:298</a>
<a name="line300"><span class="linenum">300:</span></a> <span class="normal">    </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">id</span><span class="cbracket">}</span><span class="normal">    </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$node</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#247">id -> lib/Devel/Explorer.pm:247</a>
<a name="line301"><span class="linenum">301:</span></a> 
<a name="line302"><span class="linenum">302:</span></a> <span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">$callback</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line303"><span class="linenum">303:</span></a> <span class="normal">        </span><span class="variable">$callback</span><span class="symbol">-&gt;(</span><span class="normal"> </span><span class="variable">$tree</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$node</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$parents</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$options</span><span class="normal"> </span><span class="symbol">);</span>
<a name="line304"><span class="linenum">304:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line305"><span class="linenum">305:</span></a> 
<a name="line306"><span class="linenum">306:</span></a> <span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">$node</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line307"><span class="linenum">307:</span></a> <span class="normal">        </span><span class="keyword">push</span><span class="normal"> @</span><span class="cbracket">{</span><span class="variable">$parents</span><span class="cbracket">}</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$node</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line308"><span class="linenum">308:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line309"><span class="linenum">309:</span></a> 
<a name="line310"><span class="linenum">310:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">@branch_parents</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> @</span><span class="cbracket">{</span><span class="variable">$parents</span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line311"><span class="linenum">311:</span></a> 
<a name="line312"><span class="linenum">312:</span></a> <span class="normal">    </span><span class="keyword">foreach</span><span class="normal"> </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$branch</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="keyword">sort</span><span class="normal"> </span><span class="keyword">keys</span><span class="normal"> </span><span class="symbol">%</span><span class="cbracket">{</span><span class="normal"> </span><span class="variable">$tree</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$node</span><span class="cbracket">}</span><span class="normal"> </span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line313"><span class="linenum">313:</span></a> 
<a name="line314"><span class="linenum">314:</span></a> <span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">!</span><span class="variable">$tree</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$node</span><span class="cbracket">}</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$branch</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line315"><span class="linenum">315:</span></a> <span class="normal">            </span><span class="variable">$parents</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">[</span><span class="variable">@branch_parents</span><span class="symbol">];</span>
<a name="line316"><span class="linenum">316:</span></a> <span class="normal">            </span><span class="keyword">next</span><span class="symbol">;</span>
<a name="line317"><span class="linenum">317:</span></a> <span class="normal">        </span><span class="cbracket">}</span>
<a name="line318"><span class="linenum">318:</span></a> <span class="normal">        </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">html</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">.=</span><span class="normal"> </span><span class="keyword">qq</span><span class="string">{\n&lt;div class="branch branch_$class" &gt;\n}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#351">html -> lib/Devel/Explorer.pm:351</a>
<a name="line319"><span class="linenum">319:</span></a> <span class="normal">        </span><span class="function">walk_tree</span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$tree</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="variable">$node</span><span class="cbracket">}</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$branch</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$parents</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$callback</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$options</span><span class="normal"> </span><span class="symbol">);</span>
<a href="lib/Devel/Explorer.pm.html#0">walk_tree -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line320"><span class="linenum">320:</span></a> <span class="normal">        </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">html</span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">.=</span><span class="normal"> </span><span class="keyword">qq</span><span class="string">{\n&lt;/div&gt;}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#351">html -> lib/Devel/Explorer.pm:351</a>
<a name="line321"><span class="linenum">321:</span></a> 
<a name="line322"><span class="linenum">322:</span></a> <span class="normal">        </span><span class="variable">$parents</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">[</span><span class="variable">@branch_parents</span><span class="symbol">];</span>
<a name="line323"><span class="linenum">323:</span></a> <span class="normal">    </span><span class="cbracket">}</span>
<a name="line324"><span class="linenum">324:</span></a> 
<a name="line325"><span class="linenum">325:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="symbol">;</span>
<a name="line326"><span class="linenum">326:</span></a> <span class="cbracket">}</span>
<a name="line327"><span class="linenum">327:</span></a> 
<a name="line328"><span class="linenum">328:</span></a> <span class="comment">########################################################################</span>
<a name="line329"><span class="linenum">329:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">directory_index_body</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">directory_index_body -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line330"><span class="linenum">330:</span></a> <span class="comment">########################################################################</span>
<a name="line331"><span class="linenum">331:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$root</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line332"><span class="linenum">332:</span></a> 
<a name="line333"><span class="linenum">333:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$options</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line334"><span class="linenum">334:</span></a> <span class="normal">        </span><span class="normal">branches</span><span class="normal">   </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_branches</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#161">branches -> lib/Devel/Explorer.pm:161</a>
<a name="line335"><span class="linenum">335:</span></a> <span class="normal">        </span><span class="normal">html</span><span class="normal">       </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="string">''</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#351">html -> lib/Devel/Explorer.pm:351</a>
<a name="line336"><span class="linenum">336:</span></a> <span class="normal">        </span><span class="normal">pod_status</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_pod_status</span>
<a href="lib/Devel/Explorer.pm.html#268">pod_status -> lib/Devel/Explorer.pm:268</a>
<a href="lib/Devel/Explorer.pm.html#83">pod_status -> lib/Devel/Explorer.pm:83</a>
<a name="line337"><span class="linenum">337:</span></a> <span class="normal">    </span><span class="cbracket">}</span><span class="symbol">;</span>
<a name="line338"><span class="linenum">338:</span></a> 
<a name="line339"><span class="linenum">339:</span></a> <span class="normal">    </span><span class="function">walk_tree</span><span class="symbol">(</span>
<a href="lib/Devel/Explorer.pm.html#0">walk_tree -> lib/Devel/Explorer.pm:0</a>
<a name="line340"><span class="linenum">340:</span></a> <span class="normal">        </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_tree</span><span class="symbol">,</span>
<a name="line341"><span class="linenum">341:</span></a> <span class="normal">        </span><span class="variable">$root</span><span class="symbol">,</span>
<a name="line342"><span class="linenum">342:</span></a> <span class="normal">        </span><span class="symbol">[],</span>
<a name="line343"><span class="linenum">343:</span></a> <span class="normal">        </span><span class="keyword">sub</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line344"><span class="linenum">344:</span></a> <span class="normal">            </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$tree</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$branch</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$parents</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$options</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line345"><span class="linenum">345:</span></a> 
<a name="line346"><span class="linenum">346:</span></a> <span class="normal">            </span><span class="function">show_branch</span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">branches</span><span class="cbracket">}</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$branch</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$parents</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$options</span><span class="normal"> </span><span class="symbol">);</span>
<a href="lib/Devel/Explorer.pm.html#0">show_branch -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#161">branches -> lib/Devel/Explorer.pm:161</a>
<a name="line347"><span class="linenum">347:</span></a> <span class="normal">        </span><span class="cbracket">}</span><span class="symbol">,</span>
<a name="line348"><span class="linenum">348:</span></a> <span class="normal">        </span><span class="variable">$options</span><span class="symbol">,</span>
<a name="line349"><span class="linenum">349:</span></a> <span class="normal">    </span><span class="symbol">);</span>
<a name="line350"><span class="linenum">350:</span></a> 
<a name="line351"><span class="linenum">351:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$html</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$options</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal"><a name="351">html</a></span><span class="cbracket">}</span><span class="symbol">;</span><span class="normal">  </span><span class="comment"># . '&lt;/div&gt;';</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line352"><span class="linenum">352:</span></a> 
<a name="line353"><span class="linenum">353:</span></a> <span class="normal">    </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$html</span><span class="normal"> </span><span class="symbol">=~</span><span class="normal"> </span><span class="keyword">s</span><span class="regexp">/&lt;div class="branch"&gt;\n&lt;\/div&gt;\n//</span><span class="keyword">xsmg</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="cbracket">}</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line354"><span class="linenum">354:</span></a> 
<a name="line355"><span class="linenum">355:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="variable">$html</span><span class="symbol">;</span>
<a name="line356"><span class="linenum">356:</span></a> <span class="cbracket">}</span>
<a name="line357"><span class="linenum">357:</span></a> 
<a name="line358"><span class="linenum">358:</span></a> <span class="comment">########################################################################</span>
<a name="line359"><span class="linenum">359:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">fetch_template</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">fetch_template -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line360"><span class="linenum">360:</span></a> <span class="comment">########################################################################</span>
<a name="line361"><span class="linenum">361:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="variable">$self</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line362"><span class="linenum">362:</span></a> 
<a name="line363"><span class="linenum">363:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$config</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_config</span><span class="symbol">;</span>
<a name="line364"><span class="linenum">364:</span></a> 
<a name="line365"><span class="linenum">365:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$template_path</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">templates</span><span class="cbracket">}</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="keyword">index</span><span class="cbracket">}</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line366"><span class="linenum">366:</span></a> 
<a name="line367"><span class="linenum">367:</span></a> <span class="normal">    </span><span class="keyword">die</span><span class="normal"> </span><span class="string">"no </span><span class="string">template</span><span class="string"> specified in config\n"</span>
<a href="lib/Devel/Explorer.pm.html#386">template -> lib/Devel/Explorer.pm:386</a>
<a name="line368"><span class="linenum">368:</span></a> <span class="normal">      </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">!</span><span class="variable">$template_path</span><span class="symbol">;</span>
<a name="line369"><span class="linenum">369:</span></a> 
<a name="line370"><span class="linenum">370:</span></a> <span class="normal">    </span><span class="keyword">die</span><span class="normal"> </span><span class="string">"template_path not valid [$template_path]n"</span>
<a name="line371"><span class="linenum">371:</span></a> <span class="normal">      </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">!-</span><span class="normal">e </span><span class="variable">$template_path</span><span class="symbol">;</span>
<a name="line372"><span class="linenum">372:</span></a> 
<a name="line373"><span class="linenum">373:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="function">slurp_file</span><span class="symbol">(</span><span class="variable">$template_path</span><span class="symbol">);</span>
<a name="line374"><span class="linenum">374:</span></a> <span class="cbracket">}</span>
<a name="line375"><span class="linenum">375:</span></a> 
<a name="line376"><span class="linenum">376:</span></a> <span class="comment">########################################################################</span>
<a name="line377"><span class="linenum">377:</span></a> <span class="keyword">sub</span><span class="normal"> </span><span class="normal">directory_index</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">directory_index -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line378"><span class="linenum">378:</span></a> <span class="comment">########################################################################</span>
<a name="line379"><span class="linenum">379:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$root</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line380"><span class="linenum">380:</span></a> 
<a name="line381"><span class="linenum">381:</span></a> <span class="normal">    </span><span class="keyword">die</span><span class="normal"> </span><span class="string">"usage: directory_index(root)\n"</span>
<a name="line382"><span class="linenum">382:</span></a> <span class="normal">      </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">!</span><span class="keyword">defined</span><span class="normal"> </span><span class="variable">$root</span><span class="symbol">;</span>
<a name="line383"><span class="linenum">383:</span></a> 
<a name="line384"><span class="linenum">384:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$config</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">get_config</span><span class="symbol">;</span>
<a name="line385"><span class="linenum">385:</span></a> 
<a name="line386"><span class="linenum">386:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$template</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="normal">fetch_template</span><span class="symbol">;</span>
<a href="lib/Devel/Explorer.pm.html#0">fetch_template -> lib/Devel/Explorer.pm:0</a>
<a name="line387"><span class="linenum">387:</span></a> 
<a name="line388"><span class="linenum">388:</span></a> <span class="normal">    </span><span class="comment">#    print {*STDERR} Dumper(</span>
<a name="line389"><span class="linenum">389:</span></a> <span class="normal">    </span><span class="comment">#        [   tree     =&gt; $self-&gt;get_tree,</span>
<a name="line390"><span class="linenum">390:</span></a> <span class="normal">    </span><span class="comment">#            branches =&gt; $self-&gt;get_branches</span>
<a name="line391"><span class="linenum">391:</span></a> <span class="normal">    </span><span class="comment">#        ]</span>
<a name="line392"><span class="linenum">392:</span></a> <span class="normal">    </span><span class="comment">#    );</span>
<a name="line393"><span class="linenum">393:</span></a> 
<a name="line394"><span class="linenum">394:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$body</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">$self</span><span class="symbol">-&gt;</span><span class="function">directory_index_body</span><span class="symbol">(</span><span class="variable">$root</span><span class="symbol">);</span>
<a href="lib/Devel/Explorer.pm.html#0">directory_index_body -> lib/Devel/Explorer.pm:0</a>
<a name="line395"><span class="linenum">395:</span></a> 
<a name="line396"><span class="linenum">396:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$params</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line397"><span class="linenum">397:</span></a> <span class="normal">        module_listing </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$body</span><span class="symbol">,</span>
<a name="line398"><span class="linenum">398:</span></a> <span class="normal">        css_path       </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">site</span><span class="cbracket">}</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">css</span><span class="cbracket">}</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line399"><span class="linenum">399:</span></a> <span class="normal">        js_path        </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">site</span><span class="cbracket">}</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">js</span><span class="cbracket">}</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line400"><span class="linenum">400:</span></a> <span class="normal">        logo           </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">site</span><span class="cbracket">}</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">logo</span><span class="cbracket">}</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line401"><span class="linenum">401:</span></a> <span class="normal">        js             </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="keyword">index</span><span class="cbracket">}</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">js</span><span class="cbracket">}</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line402"><span class="linenum">402:</span></a> <span class="normal">        css            </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$config</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="keyword">index</span><span class="cbracket">}</span><span class="symbol">-&gt;</span><span class="cbracket">{</span><span class="normal">css</span><span class="cbracket">}</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line403"><span class="linenum">403:</span></a> <span class="normal">    </span><span class="cbracket">}</span><span class="symbol">;</span>
<a name="line404"><span class="linenum">404:</span></a> 
<a name="line405"><span class="linenum">405:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$output</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">tt_process</span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$template</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">$params</span><span class="normal"> </span><span class="symbol">);</span>
<a name="line406"><span class="linenum">406:</span></a> 
<a name="line407"><span class="linenum">407:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="variable">$output</span><span class="symbol">;</span>
<a name="line408"><span class="linenum">408:</span></a> 
<a name="line409"><span class="linenum">409:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> HTML</span><span class="symbol">::</span><span class="normal">Tidy</span><span class="symbol">-&gt;</span><span class="function">new</span><span class="symbol">(</span>
<a href="lib/Devel/Explorer.pm.html#0">new -> lib/Devel/Explorer.pm:0</a>
<a name="line410"><span class="linenum">410:</span></a> <span class="normal">        </span><span class="cbracket">{</span><span class="normal">   </span><span class="string">'indent-spaces'</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line411"><span class="linenum">411:</span></a> <span class="normal">            wrap            </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="number">120</span><span class="symbol">,</span>
<a name="line412"><span class="linenum">412:</span></a> <span class="normal">            indent          </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="number">1</span><span class="symbol">,</span>
<a name="line413"><span class="linenum">413:</span></a> <span class="normal">            </span><span class="string">'output-html'</span><span class="normal">   </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span>
<a name="line414"><span class="linenum">414:</span></a> <span class="normal">        </span><span class="cbracket">}</span>
<a name="line415"><span class="linenum">415:</span></a> <span class="normal">    </span><span class="symbol">)-&gt;</span><span class="function">clean</span><span class="symbol">(</span><span class="variable">$output</span><span class="symbol">);</span>
<a name="line416"><span class="linenum">416:</span></a> <span class="cbracket">}</span>
<a name="line417"><span class="linenum">417:</span></a> 
<a name="line418"><span class="linenum">418:</span></a> <span class="comment">########################################################################</span>
<a name="line419"><span class="linenum">419:</span></a> <span class="keyword">sub</span><span class="normal"> main </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line420"><span class="linenum">420:</span></a> <span class="comment">########################################################################</span>
<a name="line421"><span class="linenum">421:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="variable">$class</span><span class="symbol">,</span><span class="normal"> </span><span class="variable">@args</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="variable">@_</span><span class="symbol">;</span>
<a name="line422"><span class="linenum">422:</span></a> 
<a name="line423"><span class="linenum">423:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$config</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line424"><span class="linenum">424:</span></a> <span class="normal">        </span><span class="normal">path</span><span class="normal">  </span><span class="symbol">=&gt;</span><span class="normal"> getcwd </span><span class="symbol">.</span><span class="normal"> </span><span class="string">'/lib'</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#122">path -> lib/Devel/Explorer.pm:122</a>
<a href="lib/Devel/Explorer.pm.html#42">path -> lib/Devel/Explorer.pm:42</a>
<a name="line425"><span class="linenum">425:</span></a> <span class="normal">        </span><span class="keyword">index</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="cbracket">{</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line426"><span class="linenum">426:</span></a> <span class="normal">            </span><span class="normal">template_path</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="string">'perl-explorer.html'</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#365">template_path -> lib/Devel/Explorer.pm:365</a>
<a name="line427"><span class="linenum">427:</span></a> <span class="normal">            css_path      </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="string">'/static/css/perl-explorer.css'</span><span class="symbol">,</span>
<a name="line428"><span class="linenum">428:</span></a> <span class="normal">            js_path       </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="string">'/static/js/perl-explorer.js'</span><span class="symbol">,</span>
<a name="line429"><span class="linenum">429:</span></a> <span class="normal">            jquery_path   </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="string">'/static/js/jquery-3.6.0.min.js'</span><span class="symbol">,</span>
<a name="line430"><span class="linenum">430:</span></a> <span class="normal">        </span><span class="cbracket">}</span><span class="symbol">,</span>
<a name="line431"><span class="linenum">431:</span></a> <span class="normal">    </span><span class="cbracket">}</span><span class="symbol">;</span>
<a name="line432"><span class="linenum">432:</span></a> 
<a name="line433"><span class="linenum">433:</span></a> <span class="normal">    </span><span class="keyword">my</span><span class="normal"> </span><span class="variable">$explorer</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> Devel</span><span class="symbol">::</span><span class="normal">Explorer</span><span class="symbol">-&gt;</span><span class="function">new</span><span class="symbol">(</span><span class="normal"> </span><span class="normal">config</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$config</span><span class="normal"> </span><span class="symbol">);</span>
<a href="lib/Devel/Explorer.pm.html#0">new -> lib/Devel/Explorer.pm:0</a>
<a href="lib/Devel/Explorer.pm.html#101">config -> lib/Devel/Explorer.pm:101</a>
<a href="lib/Devel/Explorer.pm.html#137">config -> lib/Devel/Explorer.pm:137</a>
<a href="lib/Devel/Explorer.pm.html#363">config -> lib/Devel/Explorer.pm:363</a>
<a href="lib/Devel/Explorer.pm.html#384">config -> lib/Devel/Explorer.pm:384</a>
<a href="lib/Devel/Explorer.pm.html#40">config -> lib/Devel/Explorer.pm:40</a>
<a href="lib/Devel/Explorer.pm.html#423">config -> lib/Devel/Explorer.pm:423</a>
<a name="line434"><span class="linenum">434:</span></a> 
<a name="line435"><span class="linenum">435:</span></a> <span class="normal">    </span><span class="keyword">print</span><span class="normal"> </span><span class="cbracket">{</span><span class="symbol">*</span><span class="normal">STDERR</span><span class="cbracket">}</span><span class="normal"> </span><span class="function">Dumper</span><span class="symbol">(</span>
<a href="lib/Devel/Explorer.pm.html#0">{ -> lib/Devel/Explorer.pm:0</a>
<a name="line436"><span class="linenum">436:</span></a> <span class="normal">        </span><span class="symbol">[</span><span class="normal">   </span><span class="normal">tree</span><span class="normal">     </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$explorer</span><span class="symbol">-&gt;</span><span class="normal">get_tree</span><span class="symbol">,</span>
<a href="lib/Devel/Explorer.pm.html#159">tree -> lib/Devel/Explorer.pm:159</a>
<a href="lib/Devel/Explorer.pm.html#202">tree -> lib/Devel/Explorer.pm:202</a>
<a name="line437"><span class="linenum">437:</span></a> <span class="normal">            </span><span class="normal">branches</span><span class="normal"> </span><span class="symbol">=&gt;</span><span class="normal"> </span><span class="variable">$explorer</span><span class="symbol">-&gt;</span><span class="normal">get_branches</span>
<a href="lib/Devel/Explorer.pm.html#161">branches -> lib/Devel/Explorer.pm:161</a>
<a name="line438"><span class="linenum">438:</span></a> <span class="normal">        </span><span class="symbol">]</span>
<a name="line439"><span class="linenum">439:</span></a> <span class="normal">    </span><span class="symbol">);</span>
<a name="line440"><span class="linenum">440:</span></a> 
<a name="line441"><span class="linenum">441:</span></a> <span class="normal">    </span><span class="keyword">print</span><span class="normal"> </span><span class="variable">$explorer</span><span class="symbol">-&gt;</span><span class="function">directory_index</span><span class="symbol">(</span><span class="string">'E2E'</span><span class="symbol">);</span>
<a href="lib/Devel/Explorer.pm.html#0">directory_index -> lib/Devel/Explorer.pm:0</a>
<a name="line442"><span class="linenum">442:</span></a> 
<a name="line443"><span class="linenum">443:</span></a> <span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<a name="line444"><span class="linenum">444:</span></a> <span class="cbracket">}</span>
<a name="line445"><span class="linenum">445:</span></a> 
<a name="line446"><span class="linenum">446:</span></a> <span class="number">1</span><span class="symbol">;</span>
<a name="line447"><span class="linenum">447:</span></a> </tt></pre>
